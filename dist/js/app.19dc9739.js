(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],p=0,d=[];p<o.length;p++)s=o[p],i[s]&&d.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"02c2":function(e,t,a){},"034f":function(e,t,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"2e69":function(e,t,a){},"41ba":function(e,t,a){"use strict";var n=a("d53a"),i=a.n(n);i.a},4366:function(e,t,a){},"467a":function(e,t,a){"use strict";var n=a("e602"),i=a.n(n);i.a},"4e1e":function(e,t,a){"use strict";var n=a("2e69"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Game",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header",[a("div",{staticClass:"header-left"},[e._m(0),a("h2",[e._v("Current Player: "),a("span",{class:e.currentPlayer},[e._v(e._s(e.currentPlayerReadable))])])]),a("div",{staticClass:"header-right right"},[a("div",{staticClass:"moves"},[a("div",{staticClass:"die"},[a("Die")],1)]),e._m(1),e._m(2)])]),a("nav",[a("button",{on:{click:function(t){e.changePage("game")}}},[e._v("Board")]),a("button",{on:{click:function(t){e.changePage("aiStats")}}},[e._v("AI Stats")]),a("button",{on:{click:function(t){e.changePage("config")}}},[e._v("Config")])]),"game"===e.page?a("div",[e.gameOver?e._e():a("Board",{staticClass:"board"}),e.gameOver?a("div",[a("h1",[e._v(e._s(e.winner)+" has won!")]),a("button",{on:{click:e.newGame}},[e._v("New Game")])]):e._e()],1):e._e(),"config"===e.page?a("div",[a("Config")],1):e._e(),"aiStats"===e.page?a("div",[a("AIStats")],1):e._e(),a("div",{staticClass:"players-container"},[a("span",{staticClass:"player-2-name player-name"},[a("Player",{attrs:{player:"player2"}}),a("PipDisplay",{attrs:{playerSide:"player2"}})],1),a("span",{staticClass:"player-1-name player-name"},[a("Player",{attrs:{player:"player1"}}),a("PipDisplay",{attrs:{playerSide:"player1"}})],1)]),a("div",{staticClass:"bottom-container"},[a("Logs"),a("instructions")],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Royal Game of Ur")]),a("p",[e._v("(Wikipedia: "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Royal_Game_of_Ur",target:"_blank"}},[e._v("Royal Game of Ur")]),e._v(")")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",[e._v("Made by Mike Manfrin / "),a("a",{attrs:{href:"https://twitter.com/manfrin"}},[e._v("@manfrin")]),e._v(" / "),a("a",{attrs:{href:"https://github.com/manfrin"}},[e._v("github.com/manfrin")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h4",[e._v("Source Code available on the "),a("a",{attrs:{href:"https://github.com/manfrin/game_of_ur_vue"}},[e._v("repo")]),e._v(". I also made a "),a("a",{attrs:{href:"https://game.manfrincdn.com"}},[e._v("Mahjong-ish hex puzzle game")]),e._v(".")])}],l=a("cebc"),c=a("db0c"),u=a.n(c),p=(a("6762"),a("2fdb"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"board-container"},[a("TileRow",{attrs:{pips:e.pips,layout:e.boardLayout.player,playerSide:"player2",hoveringOver:e.activeHover}}),a("TileRow",{attrs:{pips:e.pips,layout:e.boardLayout.middle,playerSide:"middle",hoveringOver:e.activeHover}}),a("TileRow",{attrs:{pips:e.pips,layout:e.boardLayout.player,playerSide:"player1",hoveringOver:e.activeHover}})],1)])}),d=[],v=a("a4bb"),f=a.n(v),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"board-row"},e._l(e.layout,function(t){return a("Tile",{key:t+"_"+e.playerSide,attrs:{address:t,playerSide:e.playerSide,hoveringOver:e.hoveringOver}})}),1)},y=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"board-space",class:e.classObject,on:{mouseover:e.isHovering,mouseout:e.notHovering,click:e.move}},[e.hasPip?a("p",{class:e.pip}):e._e()])},g=[],_=a("bd86"),b=(a("c5f6"),new n["a"]),P=b,k=a("2f62"),O={name:"Tile",props:{address:Number,playerSide:String,hoveringOver:Object},computed:Object(l["a"])({distanceFromHoverSource:function(){if(this.activeHover&&this.checkHover){var e=this.moves,t=this.hoveringOver,a=t.address,n=t.canMoveFrom,i=n?+a:+a-e;return this.address-i}return-1},hoverDistanceClass:function(){if(this.hoverEffects){var e;switch(this.distanceFromHoverSource){case 1:e="one-off";break;case 2:e="two-off";break;case 3:e="three-off";break;case 4:e="four-off";break;default:e=""}return e}return""},checkHover:function(){return this.$store.state.canPlay&&this.$store.getters.opponent!==this.playerSide},activeHover:function(){return f()(this.hoveringOver).length>0},canMoveTo:function(){return this.onside&&this.validTargets.includes(this.address)},canMoveFrom:function(){return this.onside&&this.validSources.includes(""+this.address)},canMove:function(){return this.canMoveTo||this.canMoveFrom},validSources:function(){return f()(this.validMoves)},validTargets:function(){return u()(this.validMoves)},classObject:function(){var e,t=this.type,a=this.playerSide,n=this.hoverDistanceClass;return e={},Object(_["a"])(e,t,!0),Object(_["a"])(e,a,!0),Object(_["a"])(e,n,!0),Object(_["a"])(e,"hovering",this.hovering),Object(_["a"])(e,"inBetween",this.inBetween),Object(_["a"])(e,"isTargetMove",this.canMoveTo),Object(_["a"])(e,"isSourceMove",this.canMoveFrom),Object(_["a"])(e,"dim",this.shouldDim),e},shouldDim:function(){return this.hoverEffects&&this.checkHover&&!this.onside},notInvolved:function(){return!(this.inBetween||this.hovering)},inBetween:function(){var e,t=this.hoveringOver,a=t.address,n=t.canMoveTo,i=t.canMoveFrom,r=0;if("middle"!==this.playerSide&&this.currentPlayer!==this.playerSide)return!1;if(i)r=a,e=a+this.moves;else{if(!n)return!1;r=a-this.moves,e=a}return!this.hovering&&this.address>r&&this.address<e},hovering:function(){var e=this.hoveringOver,t=e.address,a=e.canMoveTo,n=e.canMoveFrom,i=this.moves,r=t;return a?r-=i:n&&(r+=i),this.canMove&&this.onside&&(r===this.address||t===this.address)},hasPip:function(){return this.pip.length>0},pipName:function(){return"player1"===this.pip?"Player 1":"Player 2"},pip:function(){var e="";return"middle"===this.playerSide?(this.pips.player1.includes(this.address)&&(e="player1"),this.pips.player2.includes(this.address)&&(e="player2")):this.pips[this.playerSide].includes(this.address)&&(e=this.playerSide),e},type:function(){return this.board[this.address].type},onside:function(){return this.currentPlayer===this.playerSide||"middle"===this.playerSide}},Object(k["b"])(["hoverEffects","currentPlayer","board","pips","moves","validMoves"])),methods:{move:function(){this.canMoveTo?this.$store.dispatch("movePiece",{address:this.address}):this.canMoveFrom&&this.$store.dispatch("movePiece",{address:this.address+this.moves})},isHovering:function(){this.checkHover&&this.onside&&P.$emit("hovering",{address:this.address,playerSide:this.playerSide,canMoveTo:this.canMoveTo,canMoveFrom:this.canMoveFrom})},notHovering:function(){this.checkHover&&P.$emit("notHovering")}}},w=O,A=(a("4e1e"),a("2877")),T=Object(A["a"])(w,m,g,!1,null,"2adfa6c0",null);T.options.__file="Tile.vue";var x=T.exports,M={name:"TileRow",components:{Tile:x},props:{playerSide:String,layout:Array,hoveringOver:Object},methods:{},computed:{board:function(){return this.$store.state.board},currentPlayer:function(){return this.$store.state.currentPlayer}}},S=M,C=(a("7b08"),Object(A["a"])(S,h,y,!1,null,null,null));C.options.__file="TileRow.vue";var j=C.exports,$={name:"Board",components:{TileRow:j},props:{validMoves:Object},data:function(){return{boardLayout:{player:[4,3,2,1,0,15,14,13],middle:[5,6,7,8,9,10,11,12]},board:this.$store.state.board,activeHover:{address:-1,playerSide:"",canMoveTo:!1,canMoveFrom:!1}}},mounted:function(){var e=this;P.$on("hovering",e.hover),P.$on("notHovering",e.unHover)},methods:{hover:function(e){var t=e.address,a=e.playerSide,n=e.canMoveTo,i=e.canMoveFrom;this.hoverEffects&&(this.activeHover.address=t,this.activeHover.playerSide=a,this.activeHover.canMoveTo=n,this.activeHover.canMoveFrom=i)},unHover:function(){this.activeHover.address=-1,this.activeHover.playerSide="middle",this.activeHover.canMoveTo=!1,this.activeHover.canMoveFrom=!1}},computed:Object(l["a"])({moveFromKeys:function(){return f()(this.validMoves[this.currentPlayer])},moveToKeys:function(){return u()(this.validMoves[this.currentPlayer])}},Object(k["b"])(["pips","currentPlayer","hoverEffects"]))},I=$,N=(a("b2e8"),Object(A["a"])(I,p,d,!1,null,null,null));N.options.__file="Board.vue";var R=N.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-container"},[a("h2",[e._v("Config")]),a("br"),a("fieldset",[a("legend",[e._v("Game Settings")]),a("label",[e._v("\n      AI Delay:\n      "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.aiDelay,expression:"aiDelay",modifiers:{number:!0}}],attrs:{type:"integer"},domProps:{value:e.aiDelay},on:{input:function(t){t.target.composing||(e.aiDelay=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),a("label",[e._v("\n      AI Continual Play:\n      "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.aiContinualPlay,expression:"aiContinualPlay"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.aiContinualPlay)?e._i(e.aiContinualPlay,null)>-1:e.aiContinualPlay},on:{change:function(t){var a=e.aiContinualPlay,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.aiContinualPlay=a.concat([r])):s>-1&&(e.aiContinualPlay=a.slice(0,s).concat(a.slice(s+1)))}else e.aiContinualPlay=i}}})]),a("label",[e._v("\n      Randomize AI After Game:\n      "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.aiRandomize,expression:"aiRandomize"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.aiRandomize)?e._i(e.aiRandomize,null)>-1:e.aiRandomize},on:{change:function(t){var a=e.aiRandomize,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.aiRandomize=a.concat([r])):s>-1&&(e.aiRandomize=a.slice(0,s).concat(a.slice(s+1)))}else e.aiRandomize=i}}})]),a("label",[e._v("\n      Pips Needed to Win:\n      "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.pipsToWin,expression:"pipsToWin",modifiers:{number:!0}}],attrs:{type:"integer"},domProps:{value:e.pipsToWin},on:{input:function(t){t.target.composing||(e.pipsToWin=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),a("label",[e._v("\n      Hover Effects:\n      "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hoverEffects,expression:"hoverEffects"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hoverEffects)?e._i(e.hoverEffects,null)>-1:e.hoverEffects},on:{change:function(t){var a=e.hoverEffects,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.hoverEffects=a.concat([r])):s>-1&&(e.hoverEffects=a.slice(0,s).concat(a.slice(s+1)))}else e.hoverEffects=i}}})])]),a("fieldset",[a("legend",[e._v("Player Settings")]),a("fieldset",[a("legend",[e._v(e._s(this.displayNames["player1"]))]),a("label",[e._v("\n        Display Name: \n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayNames_player1,expression:"displayNames_player1"}],attrs:{type:"text"},domProps:{value:e.displayNames_player1},on:{input:function(t){t.target.composing||(e.displayNames_player1=t.target.value)}}})]),a("label",[e._v("\n        Autoplay: \n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ai_player1,expression:"ai_player1"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.ai_player1)?e._i(e.ai_player1,null)>-1:e.ai_player1},on:{change:function(t){var a=e.ai_player1,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.ai_player1=a.concat([r])):s>-1&&(e.ai_player1=a.slice(0,s).concat(a.slice(s+1)))}else e.ai_player1=i}}})]),e.ai_player1?a("label",[e._v("\n        AI Strategy: \n        "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.aiType_player1,expression:"aiType_player1"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.aiType_player1=t.target.multiple?a:a[0]}}},e._l(e.aiTypes,function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])}),0)]):e._e()]),a("fieldset",[a("legend",[e._v(e._s(this.displayNames["player2"]))]),a("label",[e._v("\n        Display Name: \n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayNames_player2,expression:"displayNames_player2"}],attrs:{type:"text"},domProps:{value:e.displayNames_player2},on:{input:function(t){t.target.composing||(e.displayNames_player2=t.target.value)}}})]),a("label",[e._v("\n        Autoplay: \n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ai_player2,expression:"ai_player2"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.ai_player2)?e._i(e.ai_player2,null)>-1:e.ai_player2},on:{change:function(t){var a=e.ai_player2,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.ai_player2=a.concat([r])):s>-1&&(e.ai_player2=a.slice(0,s).concat(a.slice(s+1)))}else e.ai_player2=i}}})]),e.ai_player2?a("label",[e._v("\n        AI Strategy: \n        "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.aiType_player2,expression:"aiType_player2"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.aiType_player2=t.target.multiple?a:a[0]}}},e._l(e.aiTypes,function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])}),0)]):e._e()])])])},D=[],H=a("5176"),W=a.n(H),z=(a("ac6a"),a("7514"),a("75fc")),G=function(e,t){var a=[]+e;return e.map(function(e){return e+t}).filter(function(e){return e<16}).filter(function(e){return!a.includes(e)})},F=function(e,t){return t.filter(function(t){return e.includes(t)})},V=function(e){var t=e.targets;return t.includes(15)?[15]:[]},L=function(e){var t=e.targets;return F(t,[4,13])},B=function(e){var t=e.targets;return F(t,[1,2,3,4,8,13,14,15])},U=function(e){var t=e.targets;return t.includes(8)?[8]:[]},q=function(e){var t=e.targets,a=e.opponentPips;return F(t,Y(a))},J=function(e){var t=e.targets;return[Math.max.apply(Math,Object(z["a"])(t))]},K=function(e){var t=e.targets;return t},Y=function(e){return F(e,[5,6,7,9,10,11,12])},Q=function(e){return e.includes(8)},X=function(e,t,a){var n=G(e,a);return Q(t)&&n.splice(n.indexOf(8),1),n},Z={default:["score","reroll","bump","castle","furthest","safe","any"],rush:["score","reroll","furthest","castle","safe","bump","any"],aggressive:["bump","castle","safe","reroll","furthest","score","any"],peaceful:["score","reroll","safe","furthest","castle","bump","any"]},ee={score:V,reroll:L,bump:q,furthest:J,safe:B,castle:U,any:K},te=f()(Z),ae=function(e,t,a,n){var i=X(e,t,a),r=Z[n]||Z.default,s=i[0];r.find(function(e){var a,n=!1;return a=ee[e]({targets:i,opponentPips:t}),n=a.length>0,n&&(s=a[0]),n});return s};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e,n=function(){return this.$store.state[e]};return t&&(n=function(){return this.$store.state[t][e]},a="".concat(t,"_").concat(e)),Object(_["a"])({},a,{get:n,set:function(a){this.$store.dispatch("setConfig",{parent:t,field:e,value:a})}})}function ie(e){var t={};return e.forEach(function(e){t=W()(t,ne("player1",e),ne("player2",e))}),t}function re(e){var t={};return e.forEach(function(e){t=W()(t,ne(e))}),t}var se={name:"Config",data:function(){return{aiTypes:te}},computed:Object(l["a"])({},Object(k["b"])(["canRoll","aiDelay","aiContinualPlay","ai","aiType","pipsToWin","displayNames"]),re(["aiDelay","aiContinualPlay","pipsToWin","hoverEffects","aiRandomize"]),ie(["displayNames","ai","aiType"])),methods:{clickRoll:function(){this.$store.dispatch("rollDice")},setConfig:function(e){var t=e.obj,a=e.field,n=e.value;this.$store.dispatch("setConfig",{obj:t,field:a,value:n})}}},oe=se,le=(a("d2cc"),Object(A["a"])(oe,E,D,!1,null,"11078812",null));le.options.__file="Config.vue";var ce=le.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.die,function(t,n){return a("div",{key:n,staticClass:"dice",class:{rolledPip:t>0,disabled:e.canRoll}},[e._v("\n    "+e._s(t)+" \n  ")])}),a("button",{attrs:{disabled:!e.canRoll},on:{click:e.clickRoll}},[e._v("Roll")]),a("button",{on:{click:e.togglePlay}},[e._v(e._s(this.playOrPause))])],2)},pe=[],de={name:"Die",computed:Object(l["a"])({playOrPause:function(){return this.playing?"Pause":"Play"}},Object(k["b"])(["die","canRoll","moves","playing"])),methods:{clickRoll:function(){this.$store.dispatch("rollDice")},togglePlay:function(){this.$store.dispatch("togglePlay")}}},ve=de,fe=(a("87b6"),Object(A["a"])(ve,ue,pe,!1,null,"4ee660a3",null));fe.options.__file="Die.vue";var he=fe.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"log-container-container"},[a("div",{staticClass:"log-container"},[a("ul",e._l(e.logs.slice().reverse(),function(t,n){return a("li",{key:n},[a("span",{class:t.player},[e._v(e._s(e.readablePlayer(t.player)))]),e._v(" "+e._s(t.text)+"\n      ")])}),0)])])},me=[],ge={name:"Logs",methods:{readablePlayer:function(e){return this.displayNames[e]}},computed:Object(l["a"])({},Object(k["b"])(["logs","displayNames"])),mounted:function(){var e=document.getElementsByClassName("log-container")[0];e.style.paddingRight=e.offsetWidth-e.clientWidth+"px"}},_e=ge,be=(a("ac96"),Object(A["a"])(_e,ye,me,!1,null,null,null));be.options.__file="Logs.vue";var Pe=be.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"player-name-container"},[a("h3",[e._v(" "+e._s(this.displayNameWithAI)+" ["+e._s(this.playerWins)+" wins]")]),a("label",[a("span",{staticClass:"ai-checkbox"},[e._v("\n      Autoplay: \n      "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.isAI,expression:"isAI"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAI)?e._i(e.isAI,null)>-1:e.isAI},on:{change:function(t){var a=e.isAI,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.isAI=a.concat([r])):s>-1&&(e.isAI=a.slice(0,s).concat(a.slice(s+1)))}else e.isAI=i}}})])])])},Oe=[],we=function(e){return"player1"===e?"player2":"player1"},Ae=function(e,t){return e.player1>=t?"player1":e.player2>=t?"player2":null},Te=function(e){var t="["+e+"]";return[4,13].includes(e)?t="reroll "+t:[8].includes(e)?t="castle "+t:[15].includes(e)&&(t="the end "+t),t},xe={name:"Player",props:{player:String},data:function(){return{interval:null}},beforeDestroy:function(){this.interval&&clearInterval(this.interval)},watch:{aiShouldPlay:function(e){e&&this.setAct()}},computed:Object(l["a"])({aiShouldPlay:function(){return this.playing&&this.isTurn&&this.isAI},displayNameWithAI:function(){var e=this.displayNames[this.player];return this.isAI&&(e+=" [AI]"),e},isTurn:function(){return this.currentPlayer===this.player},playerWins:function(){return this.wins[this.player]},strat:function(){return this.aiType[this.player]},isAI:{get:function(){return this.ai[this.player]},set:function(e){this.$store.dispatch("setAI",{player:this.player,val:e})}}},Object(k["b"])(["aiDelay","currentPlayer","canRoll","canPlay","moves","pips","displayNames","wins","ai","playing","aiType"])),methods:{setAct:function(){var e=this;this.interval=setTimeout(e.act,this.aiDelay)},clearAct:function(){clearInterval(this.interval),this.interval=null},act:function(){this.playing&&this.isTurn&&this.isAI?(this.canRoll?this.roll():this.canPlay&&this.move(),this.setAct()):this.clearAct()},roll:function(){this.$store.dispatch("rollDice")},move:function(){var e=this.pips[this.player],t=this.pips[we(this.player)],a=ae(e,t,this.moves,this.strat);a&&this.$store.dispatch("movePiece",{address:a})}}},Me=xe,Se=(a("6cfe"),Object(A["a"])(Me,ke,Oe,!1,null,"d3062b8a",null));Se.options.__file="Player.vue";var Ce=Se.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pip-display"},[e._l(e.finishedPips,function(t,n){return a("div",{key:n+"_finished",class:[e.playerSide,"pips","finished"]})}),e._l(e.unfinishedPips,function(t,n){return a("div",{key:n+"_unfinished",class:[e.playerSide,"pips","unfinished"]})})],2)},$e=[],Ie={name:"PipDisplay",props:{playerSide:String},computed:{pipCompletion:function(){return this.$store.getters.pipCompletion[this.playerSide]},finishedPips:function(){return this.pipCompletion.finished},unfinishedPips:function(){return this.pipCompletion.unfinished}}},Ne=Ie,Re=(a("41ba"),Object(A["a"])(Ne,je,$e,!1,null,"73851662",null));Re.options.__file="PipDisplay.vue";var Ee=Re.exports,De=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},He=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"instructions-container"},[a("h2",[e._v("Instructions")]),a("p",[e._v("The Royal Game of Ur is one of the earliest known board games humans have created. ")]),a("p",[e._v("The game is played by two players taking turns rolling 4 2d dice and moving their pieces down the board. The pieces must travel from the beginning (near the middle), down the left, around and back right down the middle, then back left (on their own side).")]),a("p",[e._v("Pieces must move exactly the number of moves rolled. Only one piece can be on a tile at a time -- if you land on a tile occupied by your opponent's piece, you bump theirs back to the beginning. ")]),a("p",[e._v("Landing on red tiles lets you roll again. The grey tile is a special tile where the occupant cannot be bumped back. Pieces are safe on their own sides (top or bottom). A piece must land exactly on the end to move off the board.")])])}],We={name:"Instructions"},ze=We,Ge=(a("f1f4"),Object(A["a"])(ze,De,He,!1,null,"1ff6366f",null));Ge.options.__file="Instructions.vue";var Fe=Ge.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",[e._v("Stats")]),a("br"),e._l(e.aiTypes,function(t){return a("div",{key:t},[a("h3",[e._v(e._s(t))]),e._l(e.aiTypes,function(n){return a("h4",{key:n},[e._v("\n      "+e._s(n)+": "),a("b",[e._v(e._s(e.winVs(t,n))+" wins")]),e._v(" "+e._s(e.winVs(n,t))+" losses \n    ")])})],2)})],2)},Le=[],Be={name:"AIStats",data:function(){return{aiTypes:te}},computed:Object(l["a"])({},Object(k["b"])(["aiWins"])),methods:{winVs:function(e,t){return console.log(t,this.aiWins),this.aiWins[t][e]},wins:function(e){return this.aiWins[e]}}},Ue=Be,qe=(a("467a"),Object(A["a"])(Ue,Ve,Le,!1,null,"a8c6d88c",null));qe.options.__file="AIStats.vue";var Je=qe.exports,Ke={name:"Game",components:{Board:R,Config:ce,Die:he,Logs:Pe,Instructions:Fe,Player:Ce,PipDisplay:Ee,AIStats:Je},methods:{nextTurn:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$store.dispatch("nextTurn",e)},newGame:function(){this.$store.dispatch("newGame")},changePage:function(e){this.$store.dispatch("changePage",e)}},watch:{hasValidMoves:function(){this.hasValidMoves||(this.$store.dispatch("log",{player:this.currentPlayer,text:"has no valid moves, skipping turn."}),this.nextTurn(!0))},finishedPips:function(e){u()(e).includes(this.pipsToWin)&&(this.$store.dispatch("gameOver"),P.$emit("gameOver"))},canRoll:function(e){e&&P.$emit("playerCanRoll")}},computed:Object(l["a"])({otherPlayer:function(){return"player1"===this.currentPlayer?"player2":"player1"},currentPlayerReadable:function(){return this.displayNames[this.currentPlayer]}},Object(k["b"])(["displayNames","page","pips","die","canPlay","moves","board","currentPlayer","hasValidMoves","validMoves","finishedPips","pipsToWin","gameOver","winner","playing"]))},Ye=Ke,Qe=(a("68e4"),Object(A["a"])(Ye,s,o,!1,null,null,null));Qe.options.__file="Game.vue";var Xe=Qe.exports,Ze={name:"app",components:{Game:Xe}},et=Ze,tt=(a("034f"),Object(A["a"])(et,i,r,!1,null,null,null));tt.options.__file="App.vue";var at=tt.exports,nt=(a("6b54"),a("f576"),a("28a5"),a("6c7b"),{0:{type:"start",safe:!0},1:{type:"blank",safe:!0},2:{type:"blank",safe:!0},3:{type:"blank",safe:!0},4:{type:"reroll",safe:!0},5:{type:"blank",safe:!1},6:{type:"blank",safe:!1},7:{type:"blank",safe:!1},8:{type:"castle",safe:!0},9:{type:"blank",safe:!1},10:{type:"blank",safe:!1},11:{type:"blank",safe:!1},12:{type:"blank",safe:!1},13:{type:"reroll",safe:!0},14:{type:"blank",safe:!0},15:{type:"end",safe:!0}});function it(e){var t={},a="player1"===e.currentPlayer?"player2":"player1",n=e.pips[e.currentPlayer],i=e.pips[a].includes(8);return e.moves>0&&n.forEach(function(a){var r=+a,s=+a+e.moves,o=15===s||!t[r]&&!n.includes(s)&&s<16&&!(8===s&&i);o&&(t[r]=s)}),t}var rt=it;function st(){var e={};return te.forEach(function(t){e[t]={},te.forEach(function(a){e[t][a]=0})}),e}n["a"].use(k["a"]);var ot=7;function lt(){return{displayNames:{player1:"Marcus Agrippa",player2:"Marc Anthony"},pipsToWin:ot,board:nt,ai:{player1:!0,player2:!0},aiType:{player1:"default",player2:"default"},playing:!1,aiDelay:100,aiContinualPlay:!0,aiRandomize:!0,aiWins:Object(l["a"])({},st()),page:"game",hoverEffects:!1}}function ct(){return{pips:{player1:new Array(ot).fill(0),player2:new Array(ot).fill(0)},finishedPips:{player1:0,player2:0},gameOver:!1,winner:null,canRoll:!0,canPlay:!1,die:[0,0,0,0],moves:0,validMoves:{},hasValidMoves:!1,currentPlayer:"player1",sequence:0}}var ut=new k["a"].Store({state:Object(l["a"])({wins:{player1:0,player2:0},logs:[]},lt(),ct()),mutations:{changePlayer:function(e){e.currentPlayer=we(e.currentPlayer)},rollDice:function(e,t){var a=t.die,n=t.moves;e.die=a,e.moves=n,e.canRoll=!1,e.canPlay=!0},nextTurn:function(e){e.canPlay=!1,e.canRoll=!0,e.sequence+=1},log:function(e,t){e.logs.length>50&&e.logs.splice(40,e.logs.length-49),e.logs.push(t)},bumpPiece:function(e,t){var a=t.idx,i=t.player;n["a"].set(e.pips[i],a,0)},movePiece:function(e,t){var a=t.player,i=t.idx,r=t.address;n["a"].set(e.pips[a],i,r),e.validMoves={}},winPiece:function(e,t){var a=t.player,i=t.idx;n["a"].delete(e.pips[a],i),e.finishedPips[a]+=1,e.validMoves={}},checkValidMoves:function(e,t){var a=t.valid,n=t.hasValidMoves;e.validMoves=a,e.hasValidMoves=n},stopGame:function(e,t){var a=t.winner;e.gameOver=!0,e.winner=a,e.canPlay=!1,e.canRoll=!1,e.wins[a]+=1,e.ai.player1&&e.ai.player2&&(e.aiWins[e.aiType[a]][e.aiType[we(a)]]+=1)},trimLogs:function(e){e.logs.splice(40,10)},reset:function(e){var t=ct();f()(t).forEach(function(a){e[a]=t[a]})},setAI:function(e,t){var a=t.player,i=t.val;n["a"].set(e.ai,a,i)},togglePlay:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!!t.force||!e.playing;e.playing=a},setConfig:function(e,t){var a=t.parent,i=t.field,r=t.value;a?n["a"].set(e[a],i,r):e[i]=r},setPage:function(e,t){e.page=t},randomizeAI:function(e){e.aiType.player1=te[Math.floor(Math.random()*te.length)],e.aiType.player2=te[Math.floor(Math.random()*te.length)]}},actions:{checkValidMoves:function(e){var t=e.commit,a=e.state,n=rt(a),i=f()(n).length>0;t("checkValidMoves",{valid:n,hasValidMoves:i}),i||(t("log",{player:a.currentPlayer,text:"cannot move any pieces, skipping turn."}),t("changePlayer"),t("nextTurn"))},changePlayer:function(e){var t=e.commit;t("changePlayer")},rollDice:function(e){var t=e.commit,a=e.state,n=e.dispatch,i=Math.floor(16*Math.random()).toString(2).padStart(4,"0").split(""),r=i.reduce(function(e,t){return+e+ +t},0);t("rollDice",{die:i,moves:r}),0===r&&(t("log",{player:a.currentPlayer,text:"rolled a zero! Skipping turn."}),t("changePlayer"),t("nextTurn")),n("checkValidMoves")},nextTurn:function(e,t){var a=e.commit;t&&a("changePlayer"),a("nextTurn")},log:function(e,t){var a=e.commit,n=e.state,i=e.dispatch;a("log",t),n.logs.length>50&&i("trimLogs")},trimLogs:function(e){var t=e.commit;t("trimLogs")},movePiece:function(e,t){var a=e.commit,n=e.state,i=e.dispatch,r=t.address,s=t.player;r=+r;var o=n.moves;s=s||n.currentPlayer;var l=we(n.currentPlayer),c=+r-o,u=n.pips[s].indexOf(c);if(15===r)a("log",{player:n.currentPlayer,text:"got a piece to the end!"}),a("winPiece",{player:s,idx:u});else{var p=n.pips[l].indexOf(r),d=[4,13].includes(r);a("log",{player:s,text:"moved a piece from ".concat(Te(r-o)," to ").concat(Te(r),".")}),p>=0&&!n.board[r].safe&&(a("bumpPiece",{idx:p,player:l}),a("log",{player:s,text:"took opponents piece."})),a("movePiece",{player:s,idx:u,address:r})}d||a("changePlayer");var v=Ae(n.finishedPips,n.pipsToWin);v?i("gameOver",v):a("nextTurn")},gameOver:function(e,t){var a=e.commit,n=e.state,i=e.dispatch;a("log",{player:t,text:"won the game!"}),a("stopGame",{winner:t}),n.aiContinualPlay&&n.ai.player1&&n.ai.player2&&i("continueNewAIGame",{randomize:n.aiRandomize})},newGame:function(e){var t=e.commit;t("reset")},setAI:function(e,t){var a=e.commit;a("setAI",t)},togglePlay:function(e){var t=e.commit;t("togglePlay")},setConfig:function(e,t){var a=e.commit,n=t.parent,i=t.field,r=t.value;a("setConfig",{parent:n,field:i,value:r})},changePage:function(e,t){var a=e.commit;a("setPage",t)},continueNewAIGame:function(e,t){var a=e.commit,n=t.randomize;a("reset"),n&&a("randomizeAI"),a("togglePlay",{force:!0})}},getters:{pipCompletion:function(e){var t=+e.finishedPips.player1,a=+e.pips.player1.length,n=+e.finishedPips.player2,i=+e.pips.player2.length;return{player1:{finished:t,unfinished:a},player2:{finished:n,unfinished:i}}}}});n["a"].config.productionTip=!1,new n["a"]({store:ut,render:function(e){return e(at)}}).$mount("#app")},"64a9":function(e,t,a){},"68e4":function(e,t,a){"use strict";var n=a("4366"),i=a.n(n);i.a},"6cfe":function(e,t,a){"use strict";var n=a("6e14"),i=a.n(n);i.a},"6e14":function(e,t,a){},"7b08":function(e,t,a){"use strict";var n=a("a108"),i=a.n(n);i.a},"859f":function(e,t,a){},"87b6":function(e,t,a){"use strict";var n=a("cf84"),i=a.n(n);i.a},"881c":function(e,t,a){},a108:function(e,t,a){},ac96:function(e,t,a){"use strict";var n=a("02c2"),i=a.n(n);i.a},b2e8:function(e,t,a){"use strict";var n=a("dcc5"),i=a.n(n);i.a},cf84:function(e,t,a){},d2cc:function(e,t,a){"use strict";var n=a("881c"),i=a.n(n);i.a},d53a:function(e,t,a){},dcc5:function(e,t,a){},e602:function(e,t,a){},f1f4:function(e,t,a){"use strict";var n=a("859f"),i=a.n(n);i.a}});
//# sourceMappingURL=app.19dc9739.js.map